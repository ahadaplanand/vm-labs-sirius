<h1> Лабораторная №5 </h1>
<b> Задание: </b>
<ul>
<li>На серверах web1, web2 установить Nginx.</li>
<li>На серверах haproxy1, haproxy2 установить и настроить  отказоустойчивую связку HAProxy+Keepalived. Настроить VIP с помощью Keepalived в соответствии со схемой</li>
<li>На серверах web1, web2 Nginx должен работать по порту 8080 и отдавать кастомную страницу, зайдя на которую можно понять на каком сервере вы находитесь.</li>
<li>На серверах с HAProxy ПО должно обеспечить балансировку нагрузки серверов web1 и web2 в режиме round-robin. Сделать таймауты ожидания ответа web1 и web2 как можно меньше. Скажем, 1-2 секунды</li>
<li>Установка и настройка всего ПО должна быть обеспечена Ansible-сценарием.</li>
<li>Все файлы по этому заданию выложить в Github и написать ReadMe со скринами работоспособности и инструкцию по запуску вашего Ansible-сценария.</li>
</ul>

<br /> <b> Схема: </b>
<br />
<img src="images/5.1.png"/>
<br />
<br />
<br />
<br />
В шаблонном обзазе Centos отключены selinux и firewall
Клонируем репозиторий и переходим в директорию lab5/ansible

```bash
# Затем создаем виртуальные машины:
$ vagrant up

# И выполняем всю необходимую конфигурацию
$ ansible-playbook base.yml
```
<br /> <b> Все машины запущены: </b>
<br />
<img src="images/5.2.png"/>
<br />
<br />
<br /> <b>Проверим: </b>
<br />
<img src="images/5.3.png"/>
<br />
<br />
<br />
<br />
<br /> <b>Затем мы можем вывести из строя как webserver так и haproxy, а можем их вместе: </b> 
<br />
<img src="images/5.4.png"/> 
<br />
<br />
<br /> <b>И все будет прекрасно работать: </b>
<br />
<img src="images/5.5.png"/>
<br />
<br />
<br />
<br />
<b> Опыт приходит с опытом </b>